"use strict";(self.webpackChunkkamasutra=self.webpackChunkkamasutra||[]).push([[760],{760:(s,e,t)=>{t.r(e),t.d(e,{default:()=>O});var o=t(2791);const r={ava:"ProfileInfo_ava__6QMR5",content_logo:"ProfileInfo_content_logo__8p191",description:"ProfileInfo_description__2zthQ",main_content_img:"ProfileInfo_main_content_img__JFuWp",profileInput:"ProfileInfo_profileInput__ia+5T",statusBlock:"ProfileInfo_statusBlock__eMyry",fullName:"ProfileInfo_fullName__mQrGA",contacts:"ProfileInfo_contacts__r3Hh7",aboutMe:"ProfileInfo_aboutMe__dUdsd",descriptionItem:"ProfileInfo_descriptionItem__B+z9U",contactValue:"ProfileInfo_contactValue__KLpw7",contactItem:"ProfileInfo_contactItem__pFGeS",formSummaryError:"ProfileInfo_formSummaryError__9BkTs",descriptionEdit:"ProfileInfo_descriptionEdit__cirt8"};var i=t(2982),a=t(184);function n(s){const[e,t]=(0,o.useState)(!1),[i,n]=(0,o.useState)("enter your status New");(0,o.useEffect)((()=>{n(s.status)}),[s.status]);return(0,a.jsxs)("div",{children:[!e&&(0,a.jsx)("div",{className:r.statusBlock,children:(0,a.jsx)("span",{onDoubleClick:()=>{t(!0)},children:s.status||"enter your status"})}),e&&(0,a.jsx)("div",{children:(0,a.jsx)("input",{onChange:s=>{n(s.currentTarget.value)},autoFocus:!0,onBlur:()=>{t(!1),s.updateStatus(i)},value:i})})]})}var l=t(704),c=t(4047);const d=(0,l.Z)({form:"profileData"})((s=>(0,a.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{children:"save"}),s.error&&(0,a.jsx)("div",{className:r.formSummaryError,children:s.error})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("p",{children:["Full Name: ",(0,c.Gr)("Full Name","fullName",[],c.II)]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("p",{children:["Looking for a job:",(0,c.Gr)("","lookingForAJob",[],c.II,{type:"checkbox"})]})}),(0,a.jsxs)("div",{children:[" ",(0,a.jsxs)("p",{children:["My professional skills: ",(0,c.Gr)("Skills","lookingForAJobDescription",[],c.gx)]})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("p",{children:[" About me:",(0,c.Gr)("About me","aboutMe",[],c.gx)]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:r.contacts,children:"Contacts"}),(0,a.jsx)("div",{className:r.descriptionEdit,children:Object.keys(s.profile.contacts||{}).map((s=>(0,a.jsx)("div",{children:(0,a.jsxs)("p",{children:[s,": ",(0,c.Gr)(s,"contacts."+s,[],c.II)]})},s)))})]})]})));let u="https://buzookod.ru/media/2816616767_vubrbeJ.jpg";function p(s){let[e,t]=(0,o.useState)(!1);if(!s.profile)return(0,a.jsx)(i.Z,{});return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(0,a.jsx)("img",{className:r.main_content_img,src:"https://static.tildacdn.com/tild3031-6564-4332-a464-643231303036/39.jpg",alt:""})}),(0,a.jsx)(n,{status:s.status,updateStatus:s.updateStatus}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:r.ava,children:(0,a.jsx)("img",{className:r.content_logo,src:s.profile.photos.small||u,alt:""})}),(0,a.jsx)("div",{children:s.isOwner&&(0,a.jsx)("input",{className:r.profileInput,type:"file",onChange:e=>{e.target.files.length&&s.savePhoto(e.target.files[0])}})})]}),e?(0,a.jsx)(d,{initialValues:s.profile,onSubmit:e=>{s.saveProfile(e).then((s=>{if(!s)return t(!1)}))},profile:s.profile}):(0,a.jsx)(h,{profile:s.profile,isOwner:s.isOwner,toEditMode:()=>{t(!0)}})]})}const h=s=>{let{profile:e,isOwner:t,toEditMode:o}=s;return(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:r.fullName,children:e.fullName}),(0,a.jsx)("div",{children:t&&(0,a.jsx)("button",{onClick:o,children:"edit"})}),(0,a.jsx)("p",{className:r.contacts,children:"Contacts"}),(0,a.jsx)("div",{className:r.description,children:Object.keys(e.contacts||{}).map((s=>(0,a.jsx)(f,{contactTitle:s,contactValue:e.contacts[s]},s)))}),(0,a.jsxs)("div",{className:r.aboutMe,children:["aboutMe:",(0,a.jsxs)("p",{children:[" ",e.aboutMe]}),(0,a.jsxs)("p",{children:["Looking for a job: ",e.lookingForAJob?"yes":"no"]})]}),e.lookingForAJob&&(0,a.jsxs)("div",{children:[" ",(0,a.jsxs)("p",{children:["My professional skills: ",e.lookingForAJobDescription]})]})]})},f=s=>{let{contactTitle:e,contactValue:t}=s;return(0,a.jsxs)("div",{className:r.contactItem,children:[(0,a.jsxs)("div",{children:[e,": "]}),(0,a.jsx)("div",{className:r.contactValue,children:t})]})},m="Post_post_avatar__+BmV4",x="Post_post__uEs8H";function j(s){return(0,a.jsxs)("div",{className:x,children:[(0,a.jsx)("img",{className:m,src:"https://w7.pngwing.com/pngs/73/738/png-transparent-flower-graphy-flower-purple-violet-lilac.png"}),(0,a.jsx)("span",{children:s.message}),(0,a.jsxs)("div",{children:["Like ",s.likesCount]})]})}const _="MyPosts_new_posts__op6dy",v="MyPosts_title__USYvv",P="MyPosts_button_block__Kc6fS";var g=t(6139),k=t(77);const b=(0,k.DT)(10),I=o.memo((s=>{let e=[...s.postsData].reverse().map((s=>(0,a.jsx)(j,{message:s.post,likesCount:s.likesCount},s.id)));return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:v,children:"My posts"}),(0,a.jsx)(N,{onSubmit:e=>{s.addPost(e.newPostText)}}),(0,a.jsx)("div",{className:_,children:"New posts"}),e]})})),N=(0,l.Z)({form:"myPostsAddForm"})((s=>(0,a.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,a.jsx)(g.Z,{component:c.gx,name:"newPostText",validate:[k.lp,b],placeholder:"Post text"}),(0,a.jsx)("div",{className:P,children:(0,a.jsx)("button",{children:"Add post"})})]}))),S=I;var w=t(6508),y=t(4420);const M=(0,y.$j)((s=>({postsData:s.profilePage.postsData,newPostText:s.profilePage.newPostText})),(s=>({addPost:e=>{s((0,w.Wl)(e))}})))(S);const T=function(s){return(0,a.jsxs)("div",{children:[(0,a.jsx)(p,{profile:s.profile,status:s.status,updateStatus:s.updateStatus,isOwner:s.isOwner,savePhoto:s.savePhoto,saveProfile:s.saveProfile}),(0,a.jsx)(M,{})]})};var C=t(7689),A=(t(3958),t(1548)),D=t(1154);class F extends o.Component{refreshProfile(){let s=this.props.router.params.userId;s||(s=this.props.authorezedUserId),this.props.getUserProfileThunk(s),this.props.getUserStatusThunk(s)}componentDidMount(){this.refreshProfile()}componentDidUpdate(s,e,t){this.props.router.params.userId!==s.router.params.userId&&this.refreshProfile()}render(){return(0,a.jsx)("div",{children:(0,a.jsx)(T,{...this.props,isOwner:!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto})})}}const O=(0,D.qC)((0,y.$j)((s=>({profile:s.profilePage.profile,status:s.profilePage.status,authorezedUserId:s.auth.id,isAuth:s.auth.isAuth})),{getUserProfileThunk:w.SO,getUserStatusThunk:w.$S,updateStatus:w.Gk,savePhoto:w.zL,saveProfile:w.c$}),(function(s){return function(e){let t=(0,C.TH)(),o=(0,C.s0)(),r=(0,C.UO)();return(0,a.jsx)(s,{...e,router:{location:t,navigate:o,params:r}})}}),A.D)(F)}}]);
//# sourceMappingURL=760.788bfd5d.chunk.js.map